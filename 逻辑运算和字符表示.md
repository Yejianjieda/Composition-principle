# 逻辑运算

早期的计算机设计和指令集主要针对整字（即整个数据单元）进行算术和逻辑运算操作。然而，在

实际应用中，尤其是随着计算机技术的发展和软件复杂性的增加，对数据更精细的控制变得日益重要。

例如：

1. **位级操作**：在计算机硬件和软件层面支持对一个字中的单个或一组位进行操作，这对于实现诸

如错误检测（如奇偶校验、CRC校验）、数据压缩、编码解码（如ASCII到EBCDIC转换）、权

限控制（如访问控制位）以及硬件接口信号处理等任务至关重要。

2. **布尔逻辑**：逻辑门电路的设计和数字逻辑的应用也要求能够对位进行AND、OR、NOT等逻辑

操作，这在计算机内部的控制电路中是基础性的工作。

3. **打包和拆包**：在通信协议、数据格式化等领域，经常需要将多个小的数据元素（比如单个字符

或标志位）组合成一个较大的字，或者从一个字中提取特定的位字段，这些操作都依赖于位级

操作指令。



打包：假设有一个结构体，包含两个8位的字符变量（在C语言中）：

```c
struct {
unsigned char a: 4; // 使用了4位
unsigned char b: 3; // 使用了3位
unsigned char c: 1; // 使用了1位
} bit_fields;
// 打包操作：将这三个独立的位字段组合到一个完整的字节中
bit_fields.a = 10; // 设置a为十进制的10，即二进制的1010
bit_fields.b = 5; // 设置b为十进制的5，即二进制的101
bit_fields.c = 1; // 设置c为1
// 此时，整个字节可能是这样的（具体取决于编译器的实现方式）：
// 二进制表示：1010 101 1，这个字节包含了三个位字段的数据	
```

**拆包（****Unpacking****）**： 反向的过程就是从一个字节中提取出特定的位字段：

```c
unsigned char packed_byte = ...; // 假设这是上面打包得到的字节
// 拆包操作：从packed_byte中获取各个位字段的值
bit_fields.a = (packed_byte >> 4) & 0x0F; // 右移4位并按位与，得到a的值
bit_fields.b = (packed_byte >> 1) & 0x07; // 右移1位并按位与，得到b的值
bit_fields.c = packed_byte & 0x01; // 直接按位与，得到c的值
// 这样就从原始的packed_byte中分离出了三个独立的位字段信息
```

以上例子展示了如何通过位操作对数据进行打包和拆包，这种技术常用于优化存储空间、处理网络协议数据包以及硬件接口通信等方面。



位运算：位操作是对整数或其他二进制表示的数据的每个位进行单独操作

1. **&按位与**：&同1为1 两个操作数对应的位置同为1结果才为1，反之都为零

   8位二进制进行操作负数用补码来按位与

   9&5

   作用：1.保留某些位   2.清楚某些位  3.检查标志位   4.网络地址(32位二进制)和子网掩码计算----计网中的内容  5.硬件接口控制  6.数据有效性检验

2. **|按位或**：| 有1为1 9|5 =1001 & 0101 = 1101=13

   作用：1.设置标记位  2.合并数据 3.条件赋值 4.硬件接口控制

3. **^按位异或**  ^ 不同为1    9 ^ 5 = 1001 ^ 0101 = 1100 = 12

   满足交换律，结合律，自反性 a^a=0

   作用：1. 不改变原始数据进行翻转特定位 2.交换两个变量的值 3.计算机偶校验位

4. **~非  （取反）**： ~单个操作数的每位取反，0变为1,1变为0

   8位二进制 ~0 = 1

   作用：1.反转二进制位 2.计算数值的补码形式 3.创建掩码  4.判断奇偶性

5. **(>>)右移** ：讲一个数字的所有位向右移动指定次数，高位是符号位是，可能是补符号位(算数右移)，也可能补0(逻辑右移)

   1.除以2的幂  2.快速除法和乘法  3.提取低阶位信息

6. **(<<)左移**: 1.乘以2的幂    2.设置标志位  3.优化内存访问  x<<1  =  x*2; 

   负数通过操作变成正数了就说明溢出了

   

   # 字符表示

   发明计算机是为了数字计算，不过计算机很快被用于商业方面的文字处理

   字符

字符通常被组合为字符数目可变的字符串。表示一个字符串的方式有三种选择：

1. **长度前置**：在字符串的第一个位置存储字符串的长度，这种方式允许直接通过第一个字节或几个字节快速获取字符串长度，不需要遍历整个字符串来计算长度
2. **附加长度变量**：在字符串书记处理之后额外存储一个变量(通常是整数类型)，用来记录字符串的实际长度
3. **使用特定字符作为结束符**:如C语言中采用的方式，即在字符串的最后一个有效字符后面添加一个特殊的字符(通常是ASCII码值为0的空字符'\0')来表示字符串的结尾。

每种方法都有其优缺点，选择哪种方式取决于具体的应用场景，性能需求以及内存管理策略等因素

> > 右移

